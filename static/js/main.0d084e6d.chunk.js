(this["webpackJsonpbinance-futures-price-comparison"]=this["webpackJsonpbinance-futures-price-comparison"]||[]).push([[0],{107:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t(10),c=t.n(l),s=t(133),n=t(150),i=t(149),b=t(151),o=t(3);var d=t(68),u=t(14);u.b.register(u.a,u.e,u.f,u.d,u.g,u.h,u.c);var j=e=>{let{historicalPrices:a,selectedCrypto:t,isSpread:r}=e;const l={labels:a.map((e=>e.date)),datasets:r?[{label:"".concat(t," Perpetual - Quarterly Spread %"),data:a.map((e=>e.perpetual&&e.quarterly?(e.perpetual-e.quarterly)/e.perpetual*100:null)),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{label:"".concat(t," Perpetual - Biquarterly Spread %"),data:a.map((e=>e.perpetual&&e.biquarterly?(e.perpetual-e.biquarterly)/e.perpetual*100:null)),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{label:"".concat(t," Quarterly - Biquarterly Spread %"),data:a.map((e=>e.quarterly&&e.biquarterly?(e.quarterly-e.biquarterly)/e.quarterly*100:null)),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}]:[{label:"".concat(t," Perpetual Prices"),data:a.map((e=>e.perpetual)),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"},{label:"".concat(t," Quarterly Prices"),data:a.map((e=>e.quarterly)),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"},{label:"".concat(t," Biquarterly Prices"),data:a.map((e=>e.biquarterly)),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}]},c={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"".concat(t," ").concat(r?"Spread %":"Prices"," Over Time")},tooltip:{callbacks:{label:function(e){const a=e.dataset.label||"",t=null!==e.raw?Number(e.raw).toFixed(2):"",r=e.label||"";return"".concat(a,": ").concat(t," (Date: ").concat(r,")")}}}}};return Object(o.jsx)("div",{className:"chart-container",children:Object(o.jsx)(d.a,{data:l,options:c})})};t(83);var p=()=>Object(o.jsx)("div",{className:"spinner-container",children:Object(o.jsx)("div",{className:"loading-spinner"})}),m=t(26),h=t.n(m);const y="https://fapi.binance.com/fapi/v1",x=async e=>{try{const a=(await h.a.get("".concat(y,"/exchangeInfo"))).data.symbols,t=a.find((a=>a.symbol.startsWith(e)&&"CURRENT_QUARTER"===a.contractType)),r=a.find((a=>a.symbol.startsWith(e)&&"NEXT_QUARTER"===a.contractType));return{quarterly:t?t.symbol:null,biquarterly:r?r.symbol:null}}catch(a){return console.error("Error fetching quarterly and biquarterly names:",a),{quarterly:null,biquarterly:null}}};var O=t(138),g=t(139),N=t(140),q=t(141),v=t(142),w=t(137),C=t(143),f=t(144),S=t(145),P=t(146),T=t(147),k=t(148),B=t(67),D=t.n(B);var E=()=>{const[e,a]=Object(r.useState)("BTC"),[t,l]=Object(r.useState)({perpetual:0,quarterly:0,biquarterly:0}),[c,d]=Object(r.useState)([]),[u,m]=Object(r.useState)(7),[B,E]=Object(r.useState)("1d"),[Q,F]=Object(r.useState)(!1),[I,R]=Object(r.useState)(!1),[L,U]=Object(r.useState)(null),A=async()=>{F(!0);const a=await(async e=>{try{const{quarterly:a,biquarterly:t}=await x(e),r=await h.a.get("".concat(y,"/premiumIndex?symbol=").concat(e,"USDT")),l=Number(r.data.markPrice),c=a?await h.a.get("".concat(y,"/premiumIndex?symbol=").concat(a)):{data:{markPrice:"0"}},s=Number(c.data.markPrice),n=t?await h.a.get("".concat(y,"/premiumIndex?symbol=").concat(t)):{data:{markPrice:"0"}};return{perpetual:l,quarterly:s,biquarterly:Number(n.data.markPrice)}}catch(a){return console.error("Error fetching future contract prices:",a),{perpetual:0,quarterly:0,biquarterly:0}}})(e);l(a),U((new Date).toLocaleString()),F(!1)},H=e=>{const{perpetual:a,quarterly:t,biquarterly:r}=e;return{perpetualQuarterly:{value:a-t,percentage:(a-t)/a*100},perpetualBiquarterly:{value:a-r,percentage:(a-r)/a*100},quarterlyBiquarterly:{value:t-r,percentage:(t-r)/t*100}}},J=async(a,t)=>{F(!0);const r=await(async(e,a,t)=>{try{const r=Date.now(),l=r-24*a*60*60*1e3,c=t||"1d",s=(await h.a.get("".concat(y,"/klines?symbol=").concat(e,"USDT&interval=").concat(c,"&startTime=").concat(l,"&endTime=").concat(r))).data.map((e=>({date:new Date(e[0]).toLocaleString(),perpetual:e[4]}))),{quarterly:n,biquarterly:i}=await x(e),b=(n?await h.a.get("".concat(y,"/klines?symbol=").concat(n,"&interval=").concat(c,"&startTime=").concat(l,"&endTime=").concat(r)):{data:[]}).data.map((e=>({date:new Date(e[0]).toLocaleString(),quarterly:e[4]}))),o=(i?await h.a.get("".concat(y,"/klines?symbol=").concat(i,"&interval=").concat(c,"&startTime=").concat(l,"&endTime=").concat(r)):{data:[]}).data.map((e=>({date:new Date(e[0]).toLocaleString(),biquarterly:e[4]})));return Array.from(new Set([...s.map((e=>e.date)),...b.map((e=>e.date)),...o.map((e=>e.date))])).sort(((e,a)=>new Date(e)-new Date(a))).map((e=>{const a=s.find((a=>a.date===e)),t=b.find((a=>a.date===e)),r=o.find((a=>a.date===e));return{date:e,perpetual:a?a.perpetual:null,quarterly:t?t.quarterly:null,biquarterly:r?r.biquarterly:null}}))}catch(r){return console.error("Error fetching historical prices:",r),[]}})(e,a,t);d(r),F(!1)};Object(r.useEffect)((()=>{A(),J(u,B)}),[e,u,B]);const W=e=>"$".concat(Number(e).toFixed(2)),_=(e,a)=>((e-a)/a*100).toFixed(2);return Object(o.jsxs)(O.a,{className:"main-container",children:[Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(o.jsx)(g.a,{variant:"h4",className:"heading",children:"Binance Futures Price Comparison"}),Object(o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(o.jsx)(N.a,{color:"primary",onClick:()=>{A(),J(u,B)},children:Object(o.jsx)(D.a,{})}),L&&Object(o.jsxs)(g.a,{variant:"body2",className:"last-refreshed",children:["Last refreshed: ",L]})]})]}),Object(o.jsxs)(s.a,{className:"dropdown",children:[Object(o.jsx)(n.a,{children:"Cryptocurrency"}),Object(o.jsxs)(i.a,{value:e,onChange:e=>{a(e.target.value)},children:[Object(o.jsx)(b.a,{value:"BTC",children:"BTC"}),Object(o.jsx)(b.a,{value:"ETH",children:"ETH"})]})]}),Object(o.jsxs)(q.a,{container:!0,spacing:3,direction:"row",children:[Object(o.jsx)(q.a,{item:!0,xs:12,md:6,children:Object(o.jsxs)("div",{className:"table-container",children:[Object(o.jsx)(g.a,{variant:"h5",className:"heading",children:"Future Contract Prices"}),Object(o.jsx)(v.a,{component:w.a,children:Object(o.jsxs)(C.a,{className:"table",children:[Object(o.jsx)(f.a,{className:"table-header",children:Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Contract Type"}),Object(o.jsx)(P.a,{className:"table-cell",children:"Price"}),Object(o.jsx)(P.a,{className:"table-cell",children:"Change (%)"})]})}),Object(o.jsxs)(T.a,{children:[Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Perpetual"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(t.perpetual)}),Object(o.jsx)(P.a,{className:"table-cell",children:"-"})]}),Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Quarterly"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(t.quarterly)}),Object(o.jsxs)(P.a,{className:"table-cell",children:[_(t.quarterly,t.perpetual),"%"]})]}),Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Biquarterly"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(t.biquarterly)}),Object(o.jsxs)(P.a,{className:"table-cell",children:[_(t.biquarterly,t.perpetual),"%"]})]})]})]})})]})}),Object(o.jsx)(q.a,{item:!0,xs:12,md:6,children:Object(o.jsxs)("div",{className:"table-container",children:[Object(o.jsx)(g.a,{variant:"h5",className:"heading",children:"Spread"}),Object(o.jsx)(v.a,{component:w.a,children:Object(o.jsxs)(C.a,{className:"table",children:[Object(o.jsx)(f.a,{className:"table-header",children:Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Spread Type"}),Object(o.jsx)(P.a,{className:"table-cell",children:"Value"}),Object(o.jsx)(P.a,{className:"table-cell",children:"Percentage (%)"})]})}),Object(o.jsxs)(T.a,{children:[Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Perpetual - Quarterly"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(H(t).perpetualQuarterly.value)}),Object(o.jsxs)(P.a,{className:"table-cell",children:[H(t).perpetualQuarterly.percentage.toFixed(2),"%"]})]}),Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Perpetual - Biquarterly"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(H(t).perpetualBiquarterly.value)}),Object(o.jsxs)(P.a,{className:"table-cell",children:[H(t).perpetualBiquarterly.percentage.toFixed(2),"%"]})]}),Object(o.jsxs)(S.a,{className:"table-row",children:[Object(o.jsx)(P.a,{className:"table-cell",children:"Quarterly - Biquarterly"}),Object(o.jsx)(P.a,{className:"table-cell",children:W(H(t).quarterlyBiquarterly.value)}),Object(o.jsxs)(P.a,{className:"table-cell",children:[H(t).quarterlyBiquarterly.percentage.toFixed(2),"%"]})]})]})]})})]})})]}),Object(o.jsxs)(s.a,{className:"dropdown",children:[Object(o.jsx)(n.a,{children:"Days"}),Object(o.jsxs)(i.a,{value:u,onChange:e=>{m(e.target.value),J(e.target.value,B)},children:[Object(o.jsx)(b.a,{value:7,children:"7"}),Object(o.jsx)(b.a,{value:14,children:"14"}),Object(o.jsx)(b.a,{value:30,children:"30"}),Object(o.jsx)(b.a,{value:90,children:"90"})]})]}),Object(o.jsxs)(s.a,{className:"dropdown",children:[Object(o.jsx)(n.a,{children:"Frequency"}),Object(o.jsxs)(i.a,{value:B,onChange:e=>{E(e.target.value),J(u,e.target.value)},children:[Object(o.jsx)(b.a,{value:"1h",children:"1h"}),Object(o.jsx)(b.a,{value:"6h",children:"6h"}),Object(o.jsx)(b.a,{value:"1d",children:"1d"})]})]}),Object(o.jsx)(k.a,{variant:"contained",color:"primary",onClick:()=>R(!I),children:I?"Show Prices":"Show Spread %"}),Q?Object(o.jsx)(p,{}):Object(o.jsx)(j,{historicalPrices:c,selectedCrypto:e,isSpread:I})]})};c.a.render(Object(o.jsx)(E,{}),document.getElementById("root"))},83:function(e,a,t){}},[[107,1,2]]]);
//# sourceMappingURL=main.0d084e6d.chunk.js.map